{% extends "layout/base.html" %}

{% block title %} Split Up {% endblock %}

{% block content %}
<div class="mdc-layout-grid">
    <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell--span-11">
            <h4 class="mdc-typography">Split Up</h4>
        </div>
        <div class="mdc-layout-grid__cell--span-1">
            <a href="{% url 'login' %}" class="mdc-fab mdc-fab--mini">
                <i class="mdc-fab__icon material-icons" aria-hidden="true">add</i>
            </a>
        </div>
    </div>
</div>

<table id="splitupListTable" class="mdl-data-table" style="width:100%">
        <thead>
            <tr>
                <th>Budget</th>
                <th>Type</th>
                <th>Category</th>
                <th>Member</th>
                <th>Tag</th>
                <th>Amount</th>
                <th>Description</th>
                <th>Action</th>
            </tr>
        </thead>
    </table>
{% endblock %}

{% block script %}
<script type="text/javascript">
$(document).ready(function() {
    $('#splitupListTable').DataTable( {
        "processing": true,
        "serverSide": true,
        "ajax": "{% url 'SplitupList' %}",
        "columns": [
            { "data" : "budget.name" },
            { "data" : "type" },
            { "data" : "category.name" },
            { "data" : "member.name" },
            { "data" : "tag.name", "defaultContent": "" },
            { "data" : "amount" },
            { "data" : "description" },
            {
                "targets": -1,
                "data": null,
                "searchable":false,
                "orderable":false,
                "defaultContent": '<button class="mdc-icon-button material-icons">edit</button><button class="mdc-icon-button material-icons">delete</button>'
            } 
        ],
        "columnDefs": [
            {
                targets: [ 0 ],
                "className": 'mdl-data-table__cell--non-numeric'
            }
        ]
    });
} );
</script>
{% endblock %}